syntax = 'proto3';
package bestowcode.coresdk.application.v1;

import 'google/protobuf/empty.proto';

service ApplicationService {
  rpc AppendEvent(AppendEventRequest) returns (google.protobuf.Empty);
  rpc AppendForward(AppendForwardRequest) returns (google.protobuf.Empty);
  rpc AppendMerge(AppendMergeRequest) returns (google.protobuf.Empty);
  rpc Publish(PublishRequest) returns (google.protobuf.Empty);
  rpc GetView(GetViewRequest) returns (ApplicationView);
  rpc ViewSnapshots(ViewSnapshotsRequest) returns (ApplicationSnapshot);
}

message ApplicationRequest {
  message Append {
    message Event {}
    message Forward {}
    message Merge {}
  }
  message Publish {}
  oneof body {
    Append append = 1;
    Publish publish = 2;
  }
}
